var ReportDetail=function(e){var t=function(){return new t.fn.init};return t.fn=t.prototype={constructor:t,init:function(){this.customerName="",this.customerPhone="",this.houseName="",this.placeName="",this.agencyName="",this.memberName="",this.memberPhone="",this.saleName="",this.signTime="",this.signMoney="",this.RewardActual="",this.cashPrice="",this.commission="",this.isInvoice="",this.rewardTotal="",this.tooltip="",this.logList=[],this.config={customerName:document.querySelector("#customerName"),customerPhone:document.querySelector("#customerPhone"),houseName:document.querySelector("#houseName"),placeName:document.querySelector("#placeName"),agencyName:document.querySelector("#agencyName"),memberName:document.querySelector("#memberName"),memberPhone:document.querySelector("#memberPhone"),saleName:document.querySelector("#saleName"),signTime:document.querySelector("#signTime"),signMoney:document.querySelector("#signMoney"),RewardActual:document.querySelector("#RewardActual"),cashPrice:document.querySelector("#cashPrice"),commission:document.querySelector("#commission"),isInvoice:document.querySelector("#isInvoice"),rewardTotal:document.querySelector("#rewardTotal"),tooltip:document.querySelector("#tooltip"),tbody:document.querySelector("#tbody")},this.bindDom=function(){this.bindDom_init()},this.getDetailed=function(e){this.getDetailed_init(e)},this.getData=function(e){this.getData_init(e)}},bindDom_init:function(){this.config.customerName.innerHTML=this.customerName,this.config.customerPhone.innerHTML=this.customerPhone,this.config.houseName.innerHTML=this.houseName,this.config.placeName.innerHTML=this.placeName,this.config.agencyName.innerHTML=this.agencyName,this.config.memberName.innerHTML=this.memberName,this.config.memberPhone.innerHTML=this.memberPhone,this.config.saleName.innerHTML=this.saleName,this.config.signTime.innerHTML=this.signTime,this.config.signMoney.innerHTML=this.signMoney,this.config.RewardActual.innerHTML=this.RewardActual,this.config.cashPrice.innerHTML=this.cashPrice,this.config.commission.innerHTML=this.commission,this.config.isInvoice.innerHTML=this.isInvoice,this.config.rewardTotal.innerHTML=this.rewardTotal,this.config.tooltip.setAttribute("title",this.tooltip)},getDetailed_init:function(e){if(-1==e.location.href.indexOf("detailed"))throw $my.messageInfo.html("url错误").fadeIn("fast").delay("1000").fadeOut("slow"),new Error("url错误");var t=e.location.search;t=t.split("=")[1],$my.detailed=t},getData_init:function(e){if(null==e||"null"==e)return $my.messageInfo.html("参数丢失").fadeIn("fast").delay("1000").fadeOut("slow"),!1;$.ajax({url:getRoothPath+"/overview/commsionDetailedApp.json",data:{id:e},success:function(e){if("{}"===JSON.stringify(e))return void $my.messageInfo.html("暂无数据").stop().fadeIn("fast").delay("1000").fadeOut("slow");var t=e.data;if("{}"===JSON.stringify(t))return void $my.messageInfo.html("数据为空").stop().fadeIn("fast").delay("1000").fadeOut("slow");reportDetail.customerName=t.customerName,reportDetail.customerPhone=t.customerPhone,reportDetail.houseName=t.houseName,reportDetail.placeName=t.placeName,reportDetail.agencyName=t.agencyName,reportDetail.memberName=t.memberName,reportDetail.memberPhone=t.memberPhone,reportDetail.saleName=t.saleName,reportDetail.signTime=t.signTime,reportDetail.signMoney=t.signMoney,reportDetail.RewardActual=t.RewardActual,reportDetail.cashPrice=t.cashPrice,reportDetail.commission=t.commission,reportDetail.isInvoice=t.isInvoice,reportDetail.rewardTotal=t.rewardTotal,reportDetail.tooltip=t.customerName+t.customerPhone,reportDetail.logList=e.logList,reportDetail.bindDom(),reportDetail.rederLogList_init()},complete:function(){$('[data-toggle="tooltip"]').tooltip()}})},rederLogList_init:function(){if(!this.logList.length)return $my.messageInfo.html("暂无佣金发放信息").fadeIn("fast").delay("1000").fadeOut("slow"),!1;for(var e="",t=0,i=this.logList.length;t<i;t++)e+='<tr class="pass"><td>',e+='<i class="circle"></i>　<span class="progress_info">'+this.logList[t].auditingTime+"　<b>"+this.logList[t].type+"</b></span>",e+="</td></tr>";this.config.tbody.innerHTML=e}},t.fn.init.prototype=t.fn,t}(),reportDetail=ReportDetail();$(function(){window.$my={messageInfo:$(".messageInfo")},$.ajaxSetup({type:"POST",dataType:"json",error:function(){$my.messageInfo.html("服务错误").fadeIn("fast").delay("1000").fadeOut("slow")}}),reportDetail.getDetailed(window),reportDetail.getData($my.detailed)});