function Piechart(){this.domid="",this.barColor="",this.percent=""}function Controlhouse(){this.unsoldHouse="",this.unsoldArea="",this.unsoldTotalPrice="",this.unsoldPercent="",this.signedHouse="",this.signedArea="",this.signedTotalPrice="",this.signedPercent="",this.notSignHouse="",this.notSignArea="",this.notSignTotalPrice="",this.notSignPercent="",this.config={unsoldHouse:document.querySelector("#unsoldHouse"),unsoldArea:document.querySelector("#unsoldArea"),unsoldTotalPrice:document.querySelector("#unsoldTotalPrice"),signedHouse:document.querySelector("#signedHouse"),signedArea:document.querySelector("#signedArea"),signedTotalPrice:document.querySelector("#signedTotalPrice"),notSignHouse:document.querySelector("#notSignHouse"),notSignArea:document.querySelector("#notSignArea"),notSignTotalPrice:document.querySelector("#notSignTotalPrice")}}Piechart.prototype={constructor:Piechart,chartbar:function(e,o,t){radialIndicator(this.domid,{barColor:this.barColor,barBgColor:"#49484e",radius:45,barWidth:5,initValue:0,percentage:!0,roundCorner:!0,maxValue:1e4,fontSize:16,format:"##.##"}).animate(this.percent)}};var piechart_ws=new Piechart,piechart_yq=new Piechart,piechart_wq=new Piechart;Controlhouse.prototype={constructor:Controlhouse,bindDom:function(){this.config.unsoldHouse.appendChild(document.createTextNode(this.unsoldHouse)),this.config.unsoldArea.appendChild(document.createTextNode(this.unsoldArea)),this.config.unsoldTotalPrice.appendChild(document.createTextNode(this.unsoldTotalPrice)),this.config.signedHouse.appendChild(document.createTextNode(this.signedHouse)),this.config.signedArea.appendChild(document.createTextNode(this.signedArea)),this.config.signedTotalPrice.appendChild(document.createTextNode(this.signedTotalPrice)),this.config.notSignHouse.appendChild(document.createTextNode(this.notSignHouse)),this.config.notSignArea.appendChild(document.createTextNode(this.notSignArea)),this.config.notSignTotalPrice.appendChild(document.createTextNode(this.notSignTotalPrice))},getPercent:function(e){var o=e.NotSaleHouse+e.ReserveHouse;this.unsoldPercent=1e4*(e.NotSaleHouse/o).toFixed(4),this.signedPercent=1e4*(e.SaleHouse/o).toFixed(4),this.notSignTotalPercent=1e4*((e.ReserveHouse-e.SaleHouse)/o).toFixed(4),piechart_ws.domid="#indicatorContainer1",piechart_ws.barColor="#3BAFC1",piechart_ws.percent=this.unsoldPercent,piechart_yq.domid="#indicatorContainer2",piechart_yq.barColor="#F2AD2E",piechart_yq.percent=this.signedPercent,piechart_wq.domid="#indicatorContainer3",piechart_wq.barColor="#42C29D",piechart_wq.percent=this.notSignTotalPercent,piechart_ws.chartbar(),piechart_yq.chartbar(),piechart_wq.chartbar()}};var controlhouse=new Controlhouse;$(function(){window.$my={messageInfo:$(".messageInfo")};var e=sessionStorage.getItem("propertyID");$.ajaxSetup({type:"POST",dataType:"json",error:function(){$my.messageInfo.html("服务错误").fadeIn("fast").delay("1000").fadeOut("slow")}}),function(){if(null==e||"null"==e)return $my.messageInfo.html("楼盘参数丢失").stop().fadeIn("fast").delay("1000").fadeOut("slow"),!1;$.ajax({url:getRoothPath+"/overview/controlhouse.json",data:{PropertyID:e},success:function(e){if("{}"===JSON.stringify(e))return $my.messageInfo.html("暂无数据").stop().fadeIn("fast").delay("1000").fadeOut("slow"),!1;if(0===e.Controlhouse.length)return $my.messageInfo.html("数据为空").fadeIn("fast").delay("1000").fadeOut("slow"),!1;var o=e.Controlhouse[0];controlhouse.unsoldHouse=o.NotSaleHouse.toFixed(0),controlhouse.unsoldArea=o.NotSaleAcreage.toFixed(2),controlhouse.unsoldTotalPrice=(o.NotSaleTotal/1e4).toFixed(4),controlhouse.signedHouse=o.SaleHouse.toFixed(0),controlhouse.signedArea=o.SaleAcreage.toFixed(2),controlhouse.signedTotalPrice=(o.SaleHouseTotal/1e4).toFixed(4),controlhouse.notSignHouse=(o.ReserveHouse-o.SaleHouse).toFixed(0),controlhouse.notSignArea=(o.ReserveAcreage-o.SaleAcreage).toFixed(2),controlhouse.notSignTotalPrice=((o.ReserveSaleTotal-o.SaleHouseTotal)/1e4).toFixed(4),controlhouse.bindDom(),controlhouse.getPercent(o)}})}()});